CREATE TABLE member(
  email VARCHAR(100) PRIMARY KEY,
  memberpw VARCHAR(100) NOT NULL,
  nickname VARCHAR(50) UNIQUE NOT NULL,
  phone VARCHAR(20) NOT NULL,
  birthdate DATE NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  profile_visibility CHAR(1) DEFAULT 'N' NOT NULL,
  chat_rejection CHAR(1) DEFAULT 'N' NOT NULL,
  enabled TINYINT(1) DEFAULT 1,
  rolename VARCHAR(20) DEFAULT 'ROLE_USER'
);

drop table member;

CREATE TABLE DIARIES (
  diary_id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  email VARCHAR(100) NOT NULL,
  content LONGTEXT NOT NULL,
  emotionscore DECIMAL(10, 2) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (email) REFERENCES member(email)
);
